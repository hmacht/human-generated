<div class="max-w-2xl px-4 py-8 mx-auto lg:py-16">
  <% if @verification_request.errors.any? %>
    <%= render "shared/errors_list_alert", errors: @verification_request.errors%>
  <% end %>
  <h2 class="text-xl font-bold text-gray-900 dark:text-white">Create a new request</h2>
  <p class="mb-4 text-md text-gray-600 ">Once a verification request is submitted your certificate and url will be ready in a few minutes (processing time is dependent on request volume).</p>
  <%= form_with model: @verification_request do |f| %>
      <div class="grid gap-4 mb-4 sm:grid-cols-2 sm:gap-6 sm:mb-5">
          <div class="sm:col-span-2">
              <label for="name" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Title*</label>
              <%= f.text_field :title, placeholder: "Content title", class: "bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg bg-white focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" %>
              <p class="mt-1 text-sm text-gray-600 ">The title is just for keeping track of your request, and is <u>not</u> part of the verification </p>
          </div>
          <div class="sm:col-span-2">
              <label for="description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Description*</label>
              <%= f.text_area :content, maxlength: 20000, id: "content_text_area", rows: 8, placeholder: "Any text content that you want to verify as Human Generated...", class: "block p-2.5 w-full text-sm bg-white text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"  %>
              <span id="char_count">0/20000</span>
          </div>
      </div>
      <div class="flex items-center space-x-4">
          <%= button_tag "Submit", type: "submit", class: "text-white bg-green-700 hover:bg-green-600 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600" %>
          <%= link_to "Cancel", verification_requests_path, class: "border border-gray-300 text-black bg-gray-200 hover:bg-gray-300 focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center" %>
      </div>
  <% end %>
</div>
<script>
  // JavaScript code to count characters
  document.addEventListener("DOMContentLoaded", function() {
    var textArea = document.getElementById("content_text_area");
    var charCount = document.getElementById("char_count");
    
    function updateCharCount() {
      var currentLength = textArea.value.length;
      charCount.textContent = currentLength + "/20000";
    }

    textArea.addEventListener("input", updateCharCount);
    updateCharCount();
  });
</script>






